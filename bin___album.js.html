<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Source: bin/__album.js</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/nav.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/skyceil.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
</head>

<body>

<nav class="navbar">
    <h4><a href="index.html">Home</a></h4><h5 class="no-bottom must-underline">Classes</h5><ul><li><span class="small-icon C">C</span><b><a href="Album.html">Album</a></b><ul class="has-class-methods"><li><span class="small-icon F">F</span><a href="Album.html#.generate">generate</a></li><li><span class="small-icon F">F</span><a href="Album.html#.get">get</a></li><li><span class="small-icon M">M</span><a href="Album.html#cachedIds">cachedIds</a></li><li><span class="small-icon M">M</span><a href="Album.html#Id">Id</a></li></ul></li><li><span class="small-icon C">C</span><b><a href="playdl.html">playdl</a></b><ul class="has-class-methods"><li><span class="small-icon F">F</span><a href="playdl.html#exec">exec</a></li><li><span class="small-icon F">F</span><a href="playdl.html#softExtractor">softExtractor</a></li><li><span class="small-icon F">F</span><a href="playdl.html#streamExtractor">streamExtractor</a></li></ul></li></ul><h4>Global</h4><ul><li><a href="global.html#@private">@private</a></li><li><a href="global.html#patchPatchingRawAlbum/albumData">patch Patching Raw Album/album Data</a></li></ul>
</nav>

<div id="main">
    <div class="burger">
        <div class="burger-line-1"></div>
        <div class="burger-line-2"></div>
        <div class="burger-line-3"></div>
    </div>

    <h1 class="page-title">Source: bin/__album.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @class Album  Album is a Class used for Patching album Info with Ids and attached with Tracks
 */

class Album {
  /**
   * @static @property {Object[]} cachedIds  Cached album Ids for fetching Related album data
   */
  static cachedIds = [];

  /**
   *
   * @param {Number | String | undefined} customId  Custom Id for replaceing Indexing Id as a default and place for given Ids in Cache
   * @param {Object&lt;any>} metadata  Metadata for patching with defaulter and fetch only required data " termed as raw Metadata for parsing"
   * @param {Number} tracksCount  Tracks Count for album Metadata and tracking of Tracks fetched from extractors
   */
  constructor(customId, metadata, tracksCount) {
    /**
     * @property {number | string | undefined} Id  public property and consist of unique album id and attached with Tracks for Fetching proper album Data
     */
    this.Id = this.#getId(
      customId ?? metadata?.id ?? (Album.cachedIds?.length ?? 0) + 1,
    );
    Album.cachedIds[this.Id] = this.patch({
      ...metadata,
      tracksCount,
    });
  }

  /**
   * @static
   * @param {Object&lt;any>} albumMetadata  Metadata for patching with defaulter and fetch only required data " termed as raw Metadata for parsing"
   * @param {number} tracksCount  Tracks Count for album Metadata and tracking of Tracks fetched from extractors
   * @param {any} cacheMain  cachedMain Instance for events Trigger
   * @param {boolean | true} eventTrigger  default (True) | Used for Triggering album Event on cachedMain instance
   * @returns {string | number | undefined} Returns Id of the Album Instance this.Id value
   */
  static generate(albumMetadata, tracksCount, cacheMain, eventTrigger = true) {
    const album = new Album(undefined, albumMetadata, tracksCount);
    if (eventTrigger) cacheMain.emit('album', album);
    return album?.Id;
  }

  /**
   * @static @method get get static Method for getting cached Album Instance related to given Id
   * @param {string | number | undefined} Id Given Id for related Album Instance saved to Caches
   * @returns {Album | undefined} Returns Album Instance only if its present or undefined
   */
  static get(Id) {
    return Album.cachedIds[Id];
  }

  /**
   * @method patch Patching Raw Album/album Data
   * @param {Object&lt;any>} metadata Metadata Data for Patching
   * @returns {this} Returns Modified Data
   */
  patch(metadata) {
    this.name = metadata?.name ?? metadata?.title;
    this.tracksCount = metadata.tracksCount;
    this.url = metadata?.external_urls?.spotify ?? metadata?.url;
    this.description = metadata?.description;
    this.thumbnail = metadata?.images?.[0]?.url
      ?? metadata?.thumbnail?.url
      ?? metadata?.thumbnail;
    this.channel = metadata?.channel || metadata?.owner || metadata?.author
        ? {
            name:
              metadata?.channel?.name
              ?? metadata?.channel?.title
              ?? metadata?.owner?.display_name
              ?? metadata?.author?.name
              ?? metadata?.author?.username,
            description:
              metadata?.channel?.description ?? metadata?.owner?.description,
            url:
              metadata?.channel?.url
              ?? metadata?.owner?.external_urls?.spotify
              ?? metadata?.author?.profile,
            thumbnail: metadata?.channel?.icons?.[0]?.url,
          }
        : undefined;
    this.views = metadata?.views;
    return this;
  }

  /**
   * @method @private
   * @param {string | number | undefined} customId Check for Correct Id for Caching with While loops Check
   * @returns {string | number | undefined} Returns Id for this.id value
   */
  #getId(customId) {
    while (Album.cachedIds[customId]) {
      customId = Math.random().toString(16).substring(2, 14);
    }

    return customId;
  }
}

module.exports = Album;
</code></pre>
        </article>
    </section>





</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Thu Jul 21 2022 13:42:39 GMT+0000 (Coordinated Universal Time) using <a href="https://github.com/zyrouge/jsdoc-skyceil">Skyceil Theme</a>
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>

</body>
</html>
